{% extends "capstone/layout.html" %}

{% block body %}
{% block nav %}
{% endblock %}
<div class="topnav" id="myTopnav">
    <a href="{% url 'index' %}" class="active"><img src="static/capstone/favicon.ico"
        style="width:30px; height:30px; margin-right:10px;">Rome Travel</a>
    <!--<a href="{% url 'index' %}" class="active">Rome Travel</a>-->
    <a href="{% url 'places' %}">Map of Rome</a>
    {% if user.is_authenticated %}
    <a href="{% url 'favorites' %}">Favorites</a>
    <a href="{% url 'logout' %}">Logout</a>
    {% else %}
    <a href="{% url 'login' %}">Login</a>
    <a href="{% url 'register' %}">Register</a>
    {% endif %}
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
    </a>
</div>

<script>
    function myFunction() {
      var x = document.getElementById("myTopnav");
      if (x.className === "topnav") {
        x.className += " responsive";
      } else {
        x.className = "topnav";
      }
    }
</script>

{% if user.is_authenticated %}

<h2 style="color:black; margin:10px;">Favorites for {{ user.username }}</h2>
<div id="favorites">
    {% csrf_token %}

    {% for favorite in favorites %}

        <h3>{{ favorite.item.title }}</h3>
        {% if favorite.item.image_url %}
            <p><img src="{{ favorite.item.image_url }}" style="width:400px; height:400px;"></p>
        {% endif %}

        <p>{{ favorite.item.description }}</p>
        <img src="static/capstone/red-heart.png" style="width:20px; height:20px;">
        <img src="static/capstone/open-heart.png" style="width:20px; height:20px;">
        <br><br>
    {% empty %}
        <p>No Favorites yet.</p>
    {% endfor %}

</div>
{% endif %}

{% endblock %}

